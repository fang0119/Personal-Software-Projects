#include "library.h"

string monthName[] = {"January","February","March","April","May","June","July","August","September","October","November","December"};

int days_in_month(int month, int year) {

    if (month==2) {

        if (year%4==0) {return 29;}
        else {return 28;}
    
    }
                
    else {

        if (month==4||month==6||month==9||month==11) {return 30;}
        else {return 31;}

    }

}


void display_days_in_month(int month, int year) {
    
    print(monthName[month-1]);
    print(" ");
    print(year);
    print(" was ");
    print(days_in_month(month,year));
    print(" days long.");
    new_line();


}


int days[] = {0,31,28,31,30,31,30,31,31,30,31,30};

bool isLeapYear(int year) {

    if (year%400==0) 
        {return true;}
    else
        {
            if (year%100!=0 && year%4==0) {return true;}
            else {return false;}
        }

}

int daysPassedMonths(int monthsPassed) {

    if (monthsPassed > 0) {

        return (days[monthsPassed] + daysPassedMonths(monthsPassed-1));

    }

    else {return 0;}

}


int correctedDaysPassedMonths(int year, int monthsPassed) {
    
    if (isLeapYear(year) && (monthsPassed > 1) ) {return 1 + daysPassedMonths(monthsPassed);}
    else {return daysPassedMonths(monthsPassed);}

}

int day_in_year (int year, int month, int day) {

    int monthsPassed = month - 1;
    return day + correctedDaysPassedMonths(year, monthsPassed);

}

int daysPassedYears (int yearsPassed) {

    if (yearsPassed > 0) {

        if (isLeapYear(yearsPassed)) {

            return 366 + daysPassedYears(yearsPassed-1);

        }

        else {return 365 + daysPassedYears(yearsPassed-1);}


    }

    else {if (yearsPassed==0){return 366;}   else {return 0;} }


}

int day_in_forever(int year, int month, int day) {

    int yearsPassed = year-1;
    return daysPassedYears(yearsPassed) + day_in_year(year,month,day);

}


void display_day_in_forever(int year, int month, int day) {

    print(monthName[month-1]);
    print(" ");
    print(day);
    print(", ");
    print(year);
    print(" is the ");   
    print(day_in_forever(year,month,day));
    print(" day of forever.");
    new_line();

}


void main () {

    char query = 'y';
    int userYear;    
    int userMonth;    
    int userDay;    

    while (query=='y') {
        
        
        print("Enter year: "); cin >> userYear;
        print("Enter month: "); cin >> userMonth;
        print("Enter day: "); cin >> userDay;
        display_day_in_forever(userYear,userMonth,userDay);
        print("Continue? "); cin >> query;

    }


}
